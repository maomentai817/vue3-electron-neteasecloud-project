<script setup>
import { useMusicStore } from '@/stores'
import { ref, watch } from 'vue'
import { useRoute } from 'vue-router'

const musicStore = useMusicStore()
// 播放 ing
// const props = defineProps({
//   isPlay: {
//     type: Boolean,
//     default: true
//   }
// })
const isPlaying = ref(true)
watch(
  () => musicStore.musicUrl,
  () => {
    isPlaying.value = true
    musicStore.stop = false
  }
)

// mv 页时, 暂停
const route = useRoute()
watch(
  () => route.path,
  (newValue) => {
    if (newValue === '/mv') pause()
  }
)
const pauseToggle = () => {
  isPlaying.value = !isPlaying.value
  musicStore.stop = !isPlaying.value
}
const emits = defineEmits(['play', 'pause'])
const play = () => {
  pauseToggle()
  emits('play')
}
const pause = () => {
  pauseToggle()
  emits('pause')
}
</script>

<template>
  <div class="audio-handle f-a p-x-70">
    <div class="like cp">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
      >
        <path
          fill="#d2d2d2"
          d="m8.962 18.91l.464-.588zM12 5.5l-.54.52a.75.75 0 0 0 1.08 0zm3.038 13.41l.465.59zm-5.612-.588C7.91 17.127 6.253 15.96 4.938 14.48C3.65 13.028 2.75 11.335 2.75 9.137h-1.5c0 2.666 1.11 4.7 2.567 6.339c1.43 1.61 3.254 2.9 4.68 4.024zM2.75 9.137c0-2.15 1.215-3.954 2.874-4.713c1.612-.737 3.778-.541 5.836 1.597l1.08-1.04C10.1 2.444 7.264 2.025 5 3.06C2.786 4.073 1.25 6.425 1.25 9.137zM8.497 19.5c.513.404 1.063.834 1.62 1.16s1.193.59 1.883.59v-1.5c-.31 0-.674-.12-1.126-.385c-.453-.264-.922-.628-1.448-1.043zm7.006 0c1.426-1.125 3.25-2.413 4.68-4.024c1.457-1.64 2.567-3.673 2.567-6.339h-1.5c0 2.198-.9 3.891-2.188 5.343c-1.315 1.48-2.972 2.647-4.488 3.842zM22.75 9.137c0-2.712-1.535-5.064-3.75-6.077c-2.264-1.035-5.098-.616-7.54 1.92l1.08 1.04c2.058-2.137 4.224-2.333 5.836-1.596c1.659.759 2.874 2.562 2.874 4.713zm-8.176 9.185c-.526.415-.995.779-1.448 1.043s-.816.385-1.126.385v1.5c.69 0 1.326-.265 1.883-.59c.558-.326 1.107-.756 1.62-1.16z"
        ></path>
      </svg>
    </div>
    <div class="prev cp">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
      >
        <g fill="none">
          <path
            d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"
          ></path>
          <path
            fill="#fff"
            d="m20.43 5.865l.078.699l.072.767l.036.448l.051.75l.03.55l.038.894l.019.641l.012.675l.004.707l-.004.707l-.012.675l-.019.641l-.024.606l-.028.569l-.05.78l-.035.47l-.09.986l-.079.698a1.332 1.332 0 0 1-1.844 1.065l-.49-.213l-.846-.386l-.62-.298l-.458-.226l-.748-.381l-.538-.283l-.566-.306l-.594-.329l-.619-.353l-.615-.36l-.582-.349l-.809-.5l-.73-.47l-.443-.292l-.406-.274l-.54-.373l-.587-.42l-.43-.319a1.332 1.332 0 0 1 .002-2.13l.325-.242l.422-.306l.517-.363l.607-.414l.694-.458l.51-.327l.546-.342l.581-.355l.617-.366l.32-.186q.312-.18.613-.349l.588-.326l.563-.304l.793-.414l.725-.365l.442-.215l.597-.283l.802-.362l.355-.154a1.332 1.332 0 0 1 1.846 1.065ZM6 5a1 1 0 0 1 .993.883L7 6v12a1 1 0 0 1-.883.993L6 19H5a1 1 0 0 1-.993-.883L4 18V6a1 1 0 0 1 .883-.993L5 5z"
          ></path>
        </g>
      </svg>
    </div>
    <div class="pause cp">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        v-show="!musicStore.stop"
        @click="pause"
      >
        <title>暂停</title>
        <g id="pause_fill" fill="none">
          <path
            d="M24 0v24H0V0zM12.593 23.258l-.011.002-.071.035-.02.004-.014-.004-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113-.013.002-.185.093-.01.01-.003.011.018.43.005.012.008.007.201.093c.012.004.023 0 .029-.008l.004-.014-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014-.034.614c0 .012.007.02.017.024l.015-.002.201-.093.01-.008.004-.011.017-.43-.003-.012-.01-.01z"
          />
          <path
            fill="#fff"
            d="M9 3a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Zm8 0a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z"
          />
        </g>
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        v-show="musicStore.stop"
        @click="play"
      >
        <title>暂停</title>
        <g id="play_fill" fill="none" fill-rule="evenodd">
          <path
            d="M24 0v24H0V0zM12.593 23.258l-.011.002-.071.035-.02.004-.014-.004-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113-.013.002-.185.093-.01.01-.003.011.018.43.005.012.008.007.201.093c.012.004.023 0 .029-.008l.004-.014-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014-.034.614c0 .012.007.02.017.024l.015-.002.201-.093.01-.008.004-.011.017-.43-.003-.012-.01-.01z"
          />
          <path
            fill="#fff"
            d="M5.669 4.76a1.469 1.469 0 0 1 2.04-1.177c1.062.454 3.442 1.533 6.462 3.276 3.021 1.744 5.146 3.267 6.069 3.958.788.591.79 1.763.001 2.356-.914.687-3.013 2.19-6.07 3.956-3.06 1.766-5.412 2.832-6.464 3.28-.906.387-1.92-.2-2.038-1.177-.138-1.142-.396-3.735-.396-7.237 0-3.5.257-6.092.396-7.235"
          />
        </g>
      </svg>
    </div>
    <div class="next cp">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
      >
        <g fill="none">
          <path
            d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"
          ></path>
          <path
            fill="#fff"
            d="M3.569 5.865A1.332 1.332 0 0 1 5.415 4.8l.646.283l.511.233l.597.283l.676.331l.49.249l.793.414l.564.304l.588.326l.613.349l.633.37l.599.361l.564.349l.778.496l.694.458l.607.414l.517.363l.541.394l.206.154c.71.535.71 1.594.001 2.13l-.43.319l-.273.198l-.664.465l-.595.404l-.443.292l-.73.47l-.81.5l-.581.35l-.615.36l-.62.352l-.593.33l-.566.305l-.538.283l-.748.381l-.673.331l-.773.364l-.744.332l-.224.096a1.332 1.332 0 0 1-1.844-1.065l-.08-.698l-.071-.767l-.053-.689l-.05-.78l-.028-.57l-.024-.605l-.019-.64l-.015-1.026v-.715l.015-1.024l.03-.948l.026-.587l.03-.55l.052-.75l.054-.657l.07-.722zM19 5a1 1 0 0 1 .993.883L20 6v12a1 1 0 0 1-.883.993L19 19h-1a1 1 0 0 1-.993-.883L17 18V6a1 1 0 0 1 .883-.993L18 5z"
          ></path>
        </g>
      </svg>
    </div>
    <div class="mode cp" @click="musicStore.modeChange">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        v-show="musicStore.mode === 1"
      >
        <title>列表循环</title>
        <g id="repeat_line" fill="none">
          <path
            d="M0 0v24h24V0zm11.407 23.258.011.002.071.035.02.004.014-.004.071-.036c.01-.003.019 0 .024.006l.004.01.017.428-.005.02-.01.013-.104.074-.015.004-.012-.004-.104-.074-.012-.016-.004-.017.017-.427c.002-.01.009-.017.016-.018Zm-.265-.113.014.002.184.093.01.01.003.011-.018.43-.005.012-.008.008-.201.092a.025.025 0 0 1-.029-.008l-.004-.014.034-.614c.003-.012.01-.02.02-.022m.715.002a.023.023 0 0 1 .027.006l.006.014.034.614c0 .012-.007.02-.017.024l-.015-.002-.201-.093-.01-.008-.003-.011-.018-.43.003-.012.01-.01z"
          />
          <path
            fill="#fff"
            d="M20 9a1 1 0 0 1 .993.883L21 10v5a4 4 0 0 1-3.8 3.995L17 19H8.107l-.02.415-.034.519c-.027.346-.352.557-.631.41l-.306-.164-.36-.203-.198-.117-.43-.263a20.62 20.62 0 0 1-.229-.147l-.463-.31-.21-.147-.377-.273-.315-.24a16.254 16.254 0 0 1-.133-.104c-.236-.188-.225-.566.023-.762l.28-.217.34-.252.4-.282.456-.305.462-.291.416-.249.365-.205.307-.165c.275-.143.571.036.598.36l.025.347.024.415.01.23H17a2 2 0 0 0 1.995-1.85L19 15v-5a1 1 0 0 1 1-1m-3.422-5.345.306.165.36.203.198.117.43.263.229.147.463.31.21.147.377.273.315.24.133.104c.236.188.225.566-.023.762l-.28.217-.34.252-.4.282-.456.305-.462.291-.416.249-.365.205-.307.165c-.275.143-.572-.036-.598-.36l-.025-.347-.024-.415a24.926 24.926 0 0 1-.01-.23H7a2 2 0 0 0-2 2v5a1 1 0 1 1-2 0V9a4 4 0 0 1 4-4h8.893l.02-.415.022-.36.012-.159c.027-.346.352-.557.631-.41Z"
          />
        </g>
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        v-show="musicStore.mode === 2"
      >
        <title>单曲循环</title>
        <g id="repeat_one_fill" fill="none">
          <path
            d="M0 0v24h24V0zm11.407 23.258.011.002.071.035.02.004.014-.004.071-.036c.01-.003.019 0 .024.006l.004.01.017.428-.005.02-.01.013-.104.074-.015.004-.012-.004-.104-.074-.012-.016-.004-.017.017-.427c.002-.01.009-.017.016-.018Zm-.265-.113.014.002.184.093.01.01.003.011-.018.43-.005.012-.008.008-.201.092a.025.025 0 0 1-.029-.008l-.004-.014.034-.614c.003-.012.01-.02.02-.022m.715.002a.023.023 0 0 1 .027.006l.006.014.034.614c0 .012-.007.02-.017.024l-.015-.002-.201-.093-.01-.008-.003-.011-.018-.43.003-.012.01-.01z"
          />
          <path
            fill="#fff"
            d="M15.471 3.048c.056-.719.749-1.17 1.331-.865l.314.168.368.209c.066.038.134.077.203.119l.439.269a21.065 21.065 0 0 1 .922.617l.385.28.323.245.137.107c.489.39.47 1.195-.05 1.606l-.136.107-.32.242-.38.275a21.485 21.485 0 0 1-1.152.758l-.426.255-.375.211-.316.17c-.577.3-1.207-.085-1.261-.756l-.04-.565H7a1.5 1.5 0 0 0-1.493 1.356L5.5 8v8a1.5 1.5 0 0 0 1.356 1.493L7 17.5h10a1.5 1.5 0 0 0 1.493-1.356L18.5 16v-5a1.5 1.5 0 0 1 2.993-.144L21.5 11v5a4.5 4.5 0 0 1-4.288 4.495L17 20.5H7a4.5 4.5 0 0 1-4.495-4.288L2.5 16V8a4.5 4.5 0 0 1 4.288-4.495L7 3.5h8.44zm-1.971 6.97V15a1.5 1.5 0 0 1-3 0v-2.5a1.5 1.5 0 0 1-.832-2.748l1.484-.99c1.004-.669 2.348.05 2.348 1.257Z"
          />
        </g>
      </svg>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        v-show="musicStore.mode === 3"
      >
        <title>随机播放</title>
        <g id="shuffle_2_fill" fill="none">
          <path
            d="M24 0v24H0V0zM12.594 23.258l-.012.002-.071.035-.02.004-.014-.004-.071-.036c-.01-.003-.019 0-.024.006l-.004.01-.017.428.005.02.01.013.104.074.015.004.012-.004.104-.074.012-.016.004-.017-.017-.427c-.002-.01-.009-.017-.016-.018m.264-.113-.014.002-.184.093-.01.01-.003.011.018.43.005.012.008.008.201.092c.012.004.023 0 .029-.008l.004-.014-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014-.034.614c0 .012.007.02.017.024l.015-.002.201-.093.01-.008.003-.011.018-.43-.003-.012-.01-.01z"
          />
          <path
            fill="#fff"
            d="M6.301 5.5a4.5 4.5 0 0 1 3.732 1.985l.127.2 4.252 7.087a1.5 1.5 0 0 0 1.13.72l.157.008h.741l.02-.312.011-.14c.056-.719.749-1.17 1.331-.865l.314.168.368.209a20.468 20.468 0 0 1 1.564 1.005l.385.28.323.245.137.107c.489.39.47 1.195-.05 1.606l-.136.107-.32.242-.38.275-.438.301a21.82 21.82 0 0 1-.714.457l-.426.255-.375.211-.316.17c-.577.3-1.207-.085-1.261-.756l-.04-.565H15.7a4.5 4.5 0 0 1-3.732-1.985l-.127-.2-4.252-7.087a1.5 1.5 0 0 0-1.13-.72L6.301 8.5H4a1.5 1.5 0 0 1-.144-2.993L4 5.5zm1.007 9.612L7.42 15a1.5 1.5 0 1 1 2.237 2 4.5 4.5 0 0 1-3.113 1.494l-.242.006H4a1.5 1.5 0 0 1-.144-2.993L4 15.5h2.301a1.5 1.5 0 0 0 1.007-.388m10.494-10.93.314.17.368.208c.132.076.27.159.417.248l.459.29c.25.163.48.32.688.467l.385.28.323.245.137.107c.489.39.47 1.195-.05 1.606l-.136.107-.32.242-.38.275-.438.301a21.846 21.846 0 0 1-.714.457l-.426.255-.375.211-.316.17c-.577.3-1.207-.085-1.261-.756l-.04-.565H15.7a1.5 1.5 0 0 0-1.007.388L14.58 9a1.5 1.5 0 1 1-2.237-2 4.5 4.5 0 0 1 3.113-1.494l.242-.006h.741l.031-.452c.056-.719.749-1.17 1.331-.865Z"
          />
        </g>
      </svg>
    </div>
  </div>
</template>

<style lang="scss" scoped></style>
